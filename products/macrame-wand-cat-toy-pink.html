<!DOCTYPE html>
<html lang="en" class="main-page">
<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;700;800&display=swap" rel="stylesheet">
  <title>Cloud9 Feline</title>
  <link rel="stylesheet" href="../styles2.css" />
  <style>  body,
  body * {
    scroll-snap-type: none !important;
    scroll-snap-align: none !important;
    scroll-snap-stop: normal !important;
  }</style>

  <link rel="preload" as="video" href="../assets/small-cat-feed.mp4" type="video/mp4">
<link rel="preload" as="video" href="../assets/large-cat-feed.mp4"  type="video/mp4">

</head>

<body class="productpage2">

<svg width="0" height="0" viewBox="0 0 594 569" xmlns="http://www.w3.org/2000/svg" style="position: absolute;">
  <defs>
    <clipPath id="catMask" clipPathUnits="objectBoundingBox">
      <path d="M0.0456 0.0896C0.1255 0.0472 0.2477 0.1712 0.2878 0.1905C0.3545 0.169 0.4234 0.1554 0.4600 0.1524C0.5062 0.1487 0.5801 0.1489 0.6230 0.1532C0.6686 0.1578 0.7446 0.0000 0.8438 0.0048C0.9319 0.0099 0.9031 0.2731 0.9090 0.3082C0.9148 0.3432 1.0000 0.3932 1.0000 0.5823C1.0000 0.7714 0.8495 0.9630 0.5486 0.9956C0.2183 1.0302 0.0711 0.8819 0.0227 0.7456C-0.0383 0.5739 0.0471 0.4286 0.0428 0.3852C0.0388 0.3434 -0.0254 0.1247 0.0456 0.0896Z" />
    </clipPath>
  </defs>
</svg>

<div id="top-banner-slot"></div>


<header class="navbar">
  <div class="nav-container">
    


    <!-- Burger Menu Button -->
    <button class="burger-menu" aria-label="Toggle Menu">‚ò∞</button>

    <!-- Navigation -->
    <nav>
      <a href="../shop-supplements.html">Shop Supplements</a>
      <a href="../shop-toys-and-accessories.html">Shop Toys & Accessories</a>
      <a href="../blog.html">Blog</a>
      <a href="../contact-faq.html">FAQ & Contact</a>
    </nav>

<!-- Logo -->
    <a href="../index.html" class="logo">
      <img src="../assets/pink-logo.svg" alt="Cloud9 Feline Logo" />
    </a>

    <!-- Basket -->
    <button class="basket-btn">üõí <span class="basket-text">Basket</span></button>
  </div>
</header>



  <div class="wrapper">
    


<main>
<a href="../shop-toys-and-accessories.html" class="back-to-shop-link">‚Üê Back to shop</a>

<!-- HERO -->
<section class="c9toy-hero">
  <div class="c9toy-hero__inner">
    <!-- Gallery -->
    <div class="c9toy-gallery">
      <figure class="c9toy-gallery__main">
        <img src="../assets/catniptoy.png" alt="Cloud Catnip Cat Toy">
      </figure>
      <div class="c9toy-gallery__thumbs">
        <button class="c9toy-thumb is-active" aria-label="Front view">
          <img src="../assets/catniptoyrabbit.png" alt="">
        </button>
        <button class="c9toy-thumb" aria-label="Refill pocket detail">
          <img src="../assets/catwand.png" alt="">
        </button>
        <button class="c9toy-thumb" aria-label="Texture & stitching">
          <img src="../assets/catniptoy.png" alt="">
        </button>
        <button class="c9toy-thumb" aria-label="In use">
          <img src="../assets/catwand.png" alt="">
        </button>
      </div>
    </div>

 <!-- Summary / Buy -->
<!-- Summary / Buy -->
<div class="c9toy-summary">
  <h1 class="c9toy-title">Macram√© Twist Wand Attachment - Pinkm</h1>

  <p class="c9toy-tagline">
    Introducing our <strong>macram√© twist wand attachment</strong> ‚Äî a long, knotty teaser made for
    <em>chase ‚Üí grab ‚Üí tug</em>.
  </p>

  <div class="c9toy-trust">
    <span class="c9toy-badge">Cat Approved</span>
    <span class="c9toy-badge">Built for Daily Play</span>
    <span class="c9toy-badge">Crafted in-house</span>
  </div>

  <ul class="cat-bullet-list panel-list cat-svg-bullet" style="margin-top:.8rem">
    <li>Approx. 30cm long twist teaser</li>
    <li>Pink macram√© cord knot design</li>
    <li>Made for grabbing, biting & tug play</li>
    <li>Individually handmade in-house</li>
    <li>Designed as a wand attachment (wand sold separately)</li>
  </ul>

  <div class="c9toy-buy" style="margin-top:1rem">
    <div class="c9toy-price-row">
      <span class="c9toy-price">¬£11.99</span>
    </div>
    <div class="c9toy-buy__actions">
      <label for="c9toy-qty" class="c9toy-qty-label">Quantity</label>
      <select id="c9toy-qty" class="c9toy-qty-select">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
      <button class="wave-button c9toy-add-btn">Add to Basket</button>
    </div>
  </div>

  <!-- pairs well with -->
  <div class="bundle-teaser">
    <p class="bundle-title">Pairs well with:</p>

    <div class="bundle-row">
      <a class="bundle-item" href="macrame-wand-cat-toy-pink.html">
        <img class="bundle-img" src="../assets/catwand.png" alt="Macram√© twist wand attachment">
      </a>

      <span class="bundle-plus">+</span>

      <a class="bundle-item" href="cat-teaser-wand.html">
        <img class="bundle-img" src="../assets/lickmat.png" alt="Cat teaser wand">
      </a>

      <button class="wave-button wave-btn-small" type="button">
        Add both to basket
      </button>
    </div>
  </div>
</div>

</div>
</section>

<div class="wave-separator-bottom">
  <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
    <path fill="#FE6892" fill-opacity="1" d="M0,160L24,176C48,192,96,224,144,234.7C192,245,240,235,288,208C336,181,384,139,432,112C480,85,528,75,576,90.7C624,107,672,149,720,149.3C768,149,816,107,864,122.7C912,139,960,213,1008,229.3C1056,245,1104,203,1152,176C1200,149,1248,139,1296,138.7C1344,139,1392,149,1416,154.7L1440,160L1440,320L1416,320C1392,320,1344,320,1296,320C1248,320,1200,320,1152,320C1104,320,1056,320,1008,320C960,320,912,320,864,320C816,320,768,320,720,320C672,320,624,320,576,320C528,320,480,320,432,320C384,320,336,320,288,320C240,320,192,320,144,320C96,320,48,320,24,320L0,320Z"></path>
  </svg>
</div>

<!-- HIGHLIGHTS -->
<section class="c9toy-highlights">
  <h2 class="section-title">Why cats love the Macram√© Twist</h2>
  <div class="c9toy-feature-grid">

    <article class="c9toy-card">
      <div class="c9toy-card__icon" aria-hidden="true">ü™¢</div>
      <h3>Knotty, grabby texture</h3>
      <p>The twisted macram√© knots give cats something satisfying to catch and chomp.</p>
    </article>

    <article class="c9toy-card">
      <div class="c9toy-card__icon" aria-hidden="true">üèÉ</div>
      <h3>Perfect for chase play</h3>
      <p>Long and lightweight‚Äîeasy to drag, dart and ‚Äúflee‚Äù across the floor.</p>
    </article>

    <article class="c9toy-card">
      <div class="c9toy-card__icon" aria-hidden="true">üé£</div>
      <h3>Made for wand time</h3>
      <p>Designed to clip onto compatible wand connectors for interactive play sessions.</p>
    </article>

    <article class="c9toy-card">
      <div class="c9toy-card__icon" aria-hidden="true">üßµ</div>
      <h3>Handmade in-house</h3>
      <p>Individually handmade for a sturdy finish and that cosy, crafted feel.</p>
    </article>

  </div>
</section>


<!-- CARE & SPECS -->
<!-- CARE & SPECS (CLOUD) -->
<section class="c9toy-care-specs">
  <div class="c9toy-care-specs__inner">
    <div class="c9toy-care-specs__box">
      <div class="c9toy-care">
        <h2 class="spec-title">Care & safety</h2>
        <ul class="c9toy-checks">
          <li>Surface clean only (damp cloth). Air dry fully.</li>
          <li>Supervise play and remove if any threads come loose.</li>
          <li>Replace if severely damaged.</li>
          <li>Suitable for cats and kittens.</li>
        </ul>
      </div>

      <div class="c9toy-specs">
        <h2 class="spec-title">Specs</h2>
        <dl class="c9toy-specs__list">
          <dt>Approx size</dt><dd>Approx. 30 cm</dd>
          <dt>Materials</dt><dd>Soft macrame cord</dd>
          <dt>Wand compatibility</dt><dd>Ring attachment fits our wand connectors (wand sold separately)</dd>
          <dt>Handmade note</dt><dd>Individually handmade in-house</dd>
        </dl>
      </div>
    </div>
  </div>
</section>




<!-- reviews -->
<!-- === MINI REVIEW SECTION FOR TOYS === -->

<div class="c9r-carousel">
  <h3 class="carousel-title">See what others have to say</h3>
  <button class="c9r-nav c9r-prev">‚Äπ</button>
  <div class="c9r-track-container">
    <div class="c9r-track">
      
      <!-- Card 1: Leave review -->
      <div class="c9r-card c9r-review-card">
        <div class="c9r-review-content">
          <h3>Share Your Story</h3>
          <p>We‚Äôd love to hear how Cloud9 has helped your cat!</p>
          <a href="#" class="c9r-btn">Leave a Review</a>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="c9r-card" style="background-image:url('../assets/blogcat2.jpg')">
        <div class="c9r-card-footer">
          <p>‚ÄúDennis ‚ú® Shiny Coat thanks to Cloud9!‚Äù</p>
          <img src="../assets/cloud9-jar-vector.png" alt="Product" class="c9r-product">
        </div>
      </div>

      <!-- Card 3 -->
      <div class="c9r-card" style="background-image:url('../assets/blogcat4.jpg')">
        <div class="c9r-card-footer">
          <p>‚ÄúMavis is looking fresher than ever!‚Äù</p>
          <img src="../assets/cloud9-jar-vector2.png" alt="Product" class="c9r-product">
        </div>
      </div>

      <!-- Card 4 -->
      <div class="c9r-card" style="background-image:url('../assets/blogcat5.jpeg')">
        <div class="c9r-card-footer">
          <p>‚ÄúCloud9 calmed Luna‚Äôs stress ‚Äì big difference at home.‚Äù</p>
          <img src="../assets/cloud9-jar-vector1.png" alt="Product" class="c9r-product">
        </div>
      </div>

      <!-- Card 5 -->
      <div class="c9r-card" style="background-image:url('../assets/blogcat6.jpeg')">
        <div class="c9r-card-footer">
          <p>‚ÄúOliver is full of energy again!‚Äù</p>
          <img src="../assets/cloud9-jar-vector3.png" alt="Product" class="c9r-product">
        </div>
      </div>

    </div>
  </div>
  <button class="c9r-nav c9r-next">‚Ä∫</button>
</div>


<div class="whyC9-review">
  <p class="whyC9-reviewText">
    Share your cat‚Äôs story! Leave us a review and get featured on our site and Instagram.
  </p>
  <div class="whyC9-buttons">
    <a href="#" class="whyC9-btnReview">
      <img src="../assets/star.svg" alt="Star">
      Leave a Review
    </a>
    <a href="https://instagram.com/cloud9.feline" class="whyC9-btnInsta">
      <img src="../assets/instagram-icon.svg" alt="Instagram">
      Social Media
    </a>
  </div>
</div>

<img src="../assets/squiggle.svg" style="height:20px;display:block;margin:16px auto" alt="">


<!-- FAQ & REVIEWS (reuse your accordion component) -->
<section>
  

<!-- FAQ Section -->
<div class="expand-box2">
  <div class="expand-header2">
    <strong>FAQ</strong>
    <span class="expand-icon2">‚ñæ</span>
  </div>

  <div class="expand-body2">

    <h4>Is this toy suitable for kittens?</h4>
    <p>
      Yes ‚Äî it can be enjoyed by cats of all ages. For kittens, we recommend supervised play (especially with any tassels or wand use),
      and removing the toy if you notice loose threads or damage.
    </p>

    <h4>Does it contain catnip?</h4>
    <p>
      No, this wand attachment is not catnip infused.
    </p>

    <h4>Can I use this with a wand?</h4>
    <p>
      If the toy has a metal ring attachment, it can be clipped onto compatible wand connectors for chase-and-pounce play.
      Wands are sold separately.
    </p>

    <h4>Is this safe for unsupervised play?</h4>
    <p>
      For the safest play, we recommend supervising. Always remove the toy if it becomes damaged.
    </p>

    <h4>How do I clean it?</h4>
    <p>
      Surface clean only with a damp cloth, then air dry fully. Avoid soaking or machine washing.
    </p>

   <h4>My cat isn‚Äôt interested ‚Äî what can I do?</h4>
    <p>
      Try introducing it during your cat‚Äôs most playful time of day, or use it with a wand to bring it ‚Äúto life‚Äù.
      Make sure to tidy toys away after play to keep them exciting. Rotate toys on a regular basis.
    </p>

  </div>
</div>


</section>


<!-- MEET THE CLOUD9 CREW ‚Äî COLLECT THEM ALL -->
<section class="best-sellers ">
  <h2>Don't forget to check out our supplement range!</h2>
  <div class="carousel-wrapper">
    <button class="carousel-arrow left" aria-label="Scroll left">&#10094;</button>

    <div class="carousel-track">
      <a class="carousel-item" href="/products/stress-anxiety-cat-supplement.html">
        <img src="../assets/anxietyjar-3.png" alt="Stress and Anxiety Cat Supplement">
        <p class="best-seller-label">Stress & Anxiety</p>
      </a>
      <a class="carousel-item" href="/products/hydration-booster-cat-supplement.html">
        <img src="../assets/hydrationjar-2.png" alt="Hydration Booster Cat Supplement">
        <p class="best-seller-label">Hydration Booster</p>
      </a>
      <a class="carousel-item" href="/products/skin-coat-cat-supplement.html">
        <img src="../assets/coatjar-2.png" alt="Skin and Coat Cat Supplement">
        <p class="best-seller-label">Skin & Coat</p>
      </a>
      <a class="carousel-item" href="/products/joint-mobility-cat-supplement.html">
        <img src="../assets/jointjar2-2.png" alt="Joints and Mobility Cat Supplement">
        <p class="best-seller-label">Joints & Mobility</p>
      </a>
      <a class="carousel-item" href="/products/daily-digestive-cat-supplement.html">
        <img src="../assets/digestivejar-2.png" alt="Daily Digestive Cat Supplement">
        <p class="best-seller-label">Daily Digestive</p>
      </a>
      <a class="carousel-item" href="/products/eye-vision-cat-supplement.html">
        <img src="../assets/eyejar-2.png" alt="Eye & Vision Cat Supplement">
        <p class="best-seller-label">Eye & Vision</p>
      </a>
    </div>

    <button class="carousel-arrow right" aria-label="Scroll right">&#10095;</button>
  </div>
</section>




<!-- Sign up section -->
  <!-- Sign up section -->
<!-- Sign up section (Shopify-ready foundation) -->
<section class="signup-section">
  <div class="signup-content">
    <h2>Join the Cloud9 Club</h2>

    <p class="signup-subtext">
      Get 10% off your first order, plus feline tips, early access to new drops,
      and Double Donation Weekend alerts.
    </p>

    <div class="signup-perks">
      <span>10% off first order</span>
      <span>Cat wellbeing tips</span>
      <span>Early access + alerts</span>
    </div>

    <!--
      ‚úÖ WHEN THIS SITE MOVES INTO SHOPIFY:
      Replace this whole <form> with the Shopify customer/newsletter form below.

      {% form 'customer', id: 'Cloud9Newsletter' %}
        <input type="hidden" name="contact[tags]" value="cloud9_club,newsletter,10_percent" />

        <div class="signup-form-row">
          <input
            class="signup-email"
            type="email"
            name="contact[email]"
            placeholder="Email address"
            required
            autocorrect="off"
            autocapitalize="off"
          />

          <button type="submit" class="wave-button"><span>Send my 10% code</span></button>
        </div>

        {% if form.posted_successfully? %}
          <p class="signup-success">You‚Äôre in! Check your inbox soon.</p>
        {% endif %}

        {% if form.errors %}
          <p class="signup-error">{{ form.errors | default_errors }}</p>
        {% endif %}
      {% endform %}
    -->

    <!-- Non-live placeholder form (safe to keep for styling + layout while offline) -->
    <form class="signup-form" action="#" method="post" onsubmit="return false;">
      <div class="signup-form-row">
        <input class="signup-email" type="email" placeholder="Email address" />
        <button type="button" class="wave-button"><span>Send my 10% code</span></button>
      </div>
    </form>

    <p class="signup-microtext">No spam. Unsubscribe anytime.</p>
  </div>
</section>


<footer class="footer">
  <div class="footer-top">
    <div class="footer-video" id="footerVideoWrap">
      <video id="footerVid" muted playsinline preload="metadata">
        <source src="../assets/footer-video.mp4" type="video/mp4" />
      </video>
    </div>
  </div>

  <div class="footer-bottom">
    <nav class="footer-nav">
      <div class="footer-dropdown">
        <a href="#" class="footer-dropdown-toggle">Shop ‚ñæ</a>
        <div class="footer-dropdown-menu">
          <a href="../shop-supplements.html">Shop Supplements</a>
          <a href="../shop-toys-and-accessories.html">Shop Toys & Accessories</a>
        </div>
      </div>

      <a href="../blog.html">Blog</a>
      <a href="../contact-faq.html">Contact & F&Q</a>
      <a href="../shipping-and-returns.html#returns">Returns & Refunds</a>
      <a href="../shipping-and-returns.html#shipping">Shipping</a>


    </nav>

    <div class="footer-logo">
      <img src="/assets/logo.svg" alt="Cloud9 Feline Logo">
    </div>

    <div class="footer-copy">
        ¬© 2026 Cloud 9 Feline. All rights reserved.<br><br>

        <a href="../legal.html#cookies">Cookies Policy</a>
        <a href="../legal.html#privacy">Privacy Policy</a>
        <a href="../legal.html#terms">Terms &amp; Conditions</a>
    </div>
  </div>
</footer>


</main>


  </div>






  <!-- BURGER SCRIPT -->

<script>
document.addEventListener("DOMContentLoaded", () => {
  const burger = document.querySelector('.burger-menu');
  const nav = document.querySelector('nav');

  // Toggle menu on burger click
  burger.addEventListener('click', (e) => {
    e.stopPropagation(); // ‚úÖ prevent this click from triggering the document listener
    nav.classList.toggle('active');
    burger.classList.toggle('active');
  });

  // Close menu when clicking anywhere outside
  document.addEventListener('click', (e) => {
    // Check if the click is OUTSIDE both the nav and burger button
    if (!nav.contains(e.target) && !burger.contains(e.target)) {
      nav.classList.remove('active');
      burger.classList.remove('active');
    }
  });
});
</script>

<!-- FOOTER VIDEO -->

<script>
document.addEventListener('DOMContentLoaded', () => {
  const wrap = document.getElementById('footerVideoWrap');
  const v = document.getElementById('footerVid');

  // Tweaks
  const START = 0.3;       // seconds to skip at start
  const END_TRIM = 0.4;    // seconds to cut from end
  const SPEED = 0.25;       // playback speed
  const VISIBLE_THRESHOLD = 0.2; // only play when 20% visible

  let raf;

  function startLoop() {
    const stopAt = Math.max(START, (v.duration || 0) - END_TRIM);
    v.playbackRate = SPEED;
    v.currentTime = START;
    v.play().catch(() => {});

    const tick = () => {
      if (v.currentTime >= stopAt) {
        v.currentTime = START;
        v.play();
      }
      raf = requestAnimationFrame(tick);
    };
    raf = requestAnimationFrame(tick);
  }

  function stopLoop() {
    cancelAnimationFrame(raf);
    v.pause();
  }

  const io = new IntersectionObserver(([entry]) => {
    if (entry.isIntersecting) {
      if (v.readyState >= 1) {
        startLoop();
      } else {
        v.addEventListener('loadedmetadata', startLoop, { once: true });
      }
    } else {
      stopLoop();
    }
  }, { threshold: VISIBLE_THRESHOLD });

  if (v.readyState >= 1) {
    io.observe(wrap);
  } else {
    v.addEventListener('loadedmetadata', () => io.observe(wrap), { once: true });
  }
});
</script>


<!-- FOOTER DROPDOWN -->

<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.querySelector(".footer-dropdown-toggle");
  const menu = document.querySelector(".footer-dropdown-menu");

  // Toggle dropdown when clicking on "Shop"
  toggle.addEventListener("click", (e) => {
    e.preventDefault();
    menu.classList.toggle("active");
  });

  // Close dropdown when clicking outside
  document.addEventListener("click", (e) => {
    if (!e.target.closest(".footer-dropdown")) {
      menu.classList.remove("active");
    }
  });
});
</script>




<!--HOVER AND CLICK EFFECTS FORN MOBILE-->

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Only apply this behaviour for mobile
  if (window.innerWidth <= 900) {
    document.body.addEventListener("click", (e) => {
      const target = e.target.closest(
        ".wave-button, .expand-box2, .product-card, .nav-link"
      );

      if (!target) return;

      // Add .touched class
      target.classList.add("touched");

      // Remove it automatically after animation time (2s)
      setTimeout(() => {
        target.classList.remove("touched");
      }, 2000);
    });
  }
});
</script>





<script>
  document.querySelectorAll('.share-btn2').forEach(btn => {
    btn.addEventListener('click', () => {
      console.log('Product shared');
      alert('Thanks for sharing!');
    });
  });
</script>

<script>
  document.querySelectorAll('.expand-box2').forEach(box => {
  box.addEventListener('click', () => {
    box.classList.toggle('open');
  });
});

</script>


<!--REVIEW CAROUSEL-->
<script>
(() => {
  const track     = document.querySelector(".c9r-track");
  const prevBtn   = document.querySelector(".c9r-prev");
  const nextBtn   = document.querySelector(".c9r-next");

  if (!track) return;

  // Ensure the ‚ÄúShare Your Story‚Äù card is last once
  const reviewCard = track.querySelector(".c9r-review-card");
  if (reviewCard && reviewCard !== track.lastElementChild) track.appendChild(reviewCard);

  let itemW = 0;       // stride = card width + margins
  let animating = false;
  let startX = 0;

  function measure() {
    const first = track.querySelector(".c9r-card");
    if (!first) return;
    const cs = getComputedStyle(first);
    const ml = parseFloat(cs.marginLeft)  || 0;
    const mr = parseFloat(cs.marginRight) || 0;
    itemW = first.getBoundingClientRect().width + ml + mr;
  }

  function next() {
    if (animating || !itemW) return;
    animating = true;
    track.style.transition = "transform 300ms ease";
    track.style.transform  = `translateX(-${itemW}px)`;

    const onEnd = () => {
      track.removeEventListener("transitionend", onEnd);
      track.style.transition = "none";
      track.appendChild(track.firstElementChild); // move first ‚Üí end
      track.style.transform = "translateX(0)";
      // force reflow so next animation runs
      void track.offsetHeight;
      track.style.transition = "";
      animating = false;
    };
    track.addEventListener("transitionend", onEnd);
  }

  function prev() {
    if (animating || !itemW) return;
    animating = true;
    track.style.transition = "none";
    track.insertBefore(track.lastElementChild, track.firstElementChild); // move last ‚Üí front
    track.style.transform = `translateX(-${itemW}px)`;
    // force reflow
    void track.offsetHeight;
    track.style.transition = "transform 300ms ease";
    track.style.transform = "translateX(0)";

    const onEnd = () => {
      track.removeEventListener("transitionend", onEnd);
      track.style.transition = "";
      animating = false;
    };
    track.addEventListener("transitionend", onEnd);
  }

  nextBtn?.addEventListener("click", next);
  prevBtn?.addEventListener("click", prev);

  // Simple swipe (mobile-friendly)
  track.addEventListener("touchstart", (e) => { startX = e.touches[0].clientX; }, { passive: true });
  track.addEventListener("touchend",   (e) => {
    const dx = e.changedTouches[0].clientX - startX;
    const TH = 40; // px
    if (dx <= -TH) next();
    else if (dx >= TH) prev();
  }, { passive: true });

  // Keep stride stable
  const ro = new ResizeObserver(measure);
  ro.observe(track);
  window.addEventListener("load", measure);
  window.addEventListener("resize", measure);
  measure();
})();
</script>


<!--CAROUSEL GALLERY SCRIPT-->

<script>
document.addEventListener('DOMContentLoaded', () => {
  const gallery = document.querySelector('.c9toy-gallery');
  if (!gallery) return;

  const mainImg   = gallery.querySelector('.c9toy-gallery__main img');
  const thumbs    = Array.from(gallery.querySelectorAll('.c9toy-thumb'));

  function setActive(btn) {
    thumbs.forEach(b => b.classList.remove('is-active'));
    btn.classList.add('is-active');
  }

  function swapTo(btn) {
    const imgEl = btn.querySelector('img');
    if (!imgEl || !mainImg) return;

    // Support high-res via data-full (fallback to thumb src)
    const nextSrc = imgEl.dataset.full || imgEl.src;
    const nextAlt = btn.getAttribute('aria-label') || imgEl.alt || mainImg.alt;

    // Preload to avoid flash
    const pre = new Image();
    pre.onload = () => {
      mainImg.src = nextSrc;
      mainImg.alt = nextAlt;
      setActive(btn);
    };
    pre.src = nextSrc;
  }

  // Click + keyboard support
  thumbs.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      swapTo(btn);
    });
    btn.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        swapTo(btn);
      }
    });
  });

  // Optional: make the first thumb active on load if none is
  if (!thumbs.some(b => b.classList.contains('is-active')) && thumbs[0]) {
    setActive(thumbs[0]);
  }
});
</script>




<!--Carousel script-->

<script>
(() => {
  const track      = document.querySelector(".carousel-track");
  const leftArrow  = document.querySelector(".carousel-arrow.left");
  const rightArrow = document.querySelector(".carousel-arrow.right");

  if (!track) return;

  let itemWidth = 0;
  let animating = false;

  // Measure actual stride (item width + margins)
  function measure() {
    const first = track.querySelector(".carousel-item");
    if (!first) return;
    const cs = getComputedStyle(first);
    const ml = parseFloat(cs.marginLeft)  || 0;
    const mr = parseFloat(cs.marginRight) || 0;
    itemWidth = first.getBoundingClientRect().width + ml + mr;
  }

  function next() {
    if (animating || !itemWidth) return;
    animating = true;
    track.style.transition = "transform 300ms ease";
    track.style.transform = `translateX(-${itemWidth}px)`;
    const onEnd = () => {
      track.removeEventListener("transitionend", onEnd);
      track.style.transition = "none";
      track.appendChild(track.firstElementChild);
      track.style.transform = "translateX(0)";
      void track.offsetHeight;
      track.style.transition = "";
      animating = false;
    };
    track.addEventListener("transitionend", onEnd);
  }

  function prev() {
    if (animating || !itemWidth) return;
    animating = true;
    track.style.transition = "none";
    track.insertBefore(track.lastElementChild, track.firstElementChild);
    track.style.transform = `translateX(-${itemWidth}px)`;
    void track.offsetHeight;
    track.style.transition = "transform 300ms ease";
    track.style.transform = "translateX(0)";
    const onEnd = () => {
      track.removeEventListener("transitionend", onEnd);
      track.style.transition = "";
      animating = false;
    };
    track.addEventListener("transitionend", onEnd);
  }

  rightArrow?.addEventListener("click", next);
  leftArrow?.addEventListener("click", prev);

  let startX = 0;
  track.addEventListener("touchstart", e => { startX = e.touches[0].clientX; }, { passive: true });
  track.addEventListener("touchend", e => {
    const delta = e.changedTouches[0].clientX - startX;
    const threshold = 40;
    if (delta <= -threshold) next();
    else if (delta >= threshold) prev();
  }, { passive: true });

  const ro = new ResizeObserver(() => measure());
  ro.observe(track);

  window.addEventListener("load", measure);
  window.addEventListener("resize", measure);
  measure();
})();
</script>



<!-- top banner -->
<script>
  fetch("../top-banner.html")
    .then(r => r.text())
    .then(html => { 
      const slot = document.getElementById("top-banner-slot");
      if(slot) slot.innerHTML = html;
    })
    .catch(() => {});
</script>
<!-- Cookie banner -->
<div class="c9-cookie" id="c9Cookie" role="dialog" aria-modal="true" aria-label="Cookie preferences" hidden>
  <div class="c9-cookie__card">
    <div class="c9-cookie__text">
      <h3>Cookies, but make it simple üç™</h3>
      <p>
        We use essential cookies to make the site work (like navigation and security).
        Optional cookies help us understand what‚Äôs popular, so we can improve Cloud9 over time.
      </p>
      <p class="c9-cookie__links">
        <a href="/legal.html#cookies">Read our Cookies Policy</a>
      </p>
    </div>

    <div class="c9-cookie__actions">
      <button class="c9-cookie__btn c9-cookie__btn--ghost" id="c9CookieReject">Reject non-essential</button>
      <button class="c9-cookie__btn" id="c9CookieAccept">Accept all</button>
    </div>
  </div>
</div>

<script>
(function(){
  const STORAGE_KEY = "c9_cookie_choice"; 
  // values: "accept" or "reject"

  const banner = document.getElementById("c9Cookie");
  const btnAccept = document.getElementById("c9CookieAccept");
  const btnReject = document.getElementById("c9CookieReject");
  const prefsLink = document.getElementById("cookiePrefsLink");

  if(!banner || !btnAccept || !btnReject){
    return;
  }

  function showBanner(){
    banner.hidden = false;
  }

  function hideBanner(){
    banner.hidden = true;
  }

  function setChoice(choice){
    localStorage.setItem(STORAGE_KEY, choice);
    hideBanner();

    // FUTURE READY:
    // If later you add Google Analytics / pixels,
    // only load them here if choice === "accept".
    //
    // Example:
    // if(choice === "accept"){ loadAnalytics(); }
  }

  const existing = localStorage.getItem(STORAGE_KEY);
  if(!existing){
    showBanner();
  }

  btnAccept.addEventListener("click", () => setChoice("accept"));
  btnReject.addEventListener("click", () => setChoice("reject"));

  if(prefsLink){
    prefsLink.addEventListener("click", (e) => {
      e.preventDefault();
      showBanner();
    });
  }
})();
</script>
</body>

</html>
